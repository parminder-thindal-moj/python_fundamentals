# Check Py files GitHub Action config file
name: CheckPythonFiles

on:
  workflow_call:
    outputs:
      py_files_changed:
        description: 'Check if py files have changed.'
        value: ${{ jobs.check_py_files.outputs.py_files_changed }}

jobs:
  check_py_files:
    runs-on: ubuntu-latest
    outputs:
      py_files_changed: ${{ steps.check.outputs.py_files_changed }}
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
            fetch-depth: 0

      - name: Check for changed py files in classes or functions.
        id: check
        env:
          PREVIOUS_COMMIT: ${{ github.event.before }}
          CURRENT_COMMIT: ${{ github.event.sha }}
        run: |
          set -euxo pipefail
          echo "$PREVIOUS_COMMIT"
          echo "$CURRENT_COMMIT"